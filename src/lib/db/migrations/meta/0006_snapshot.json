{
  "version": "6",
  "dialect": "sqlite",
  "id": "1629e770-9865-483e-af48-d454a707796e",
  "prevId": "b25eb7ee-3b9c-4064-bc8d-a00fa5bebe0c",
  "tables": {
    "app_settings": {
      "name": "app_settings",
      "columns": {
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "community_votes": {
      "name": "community_votes",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "media_item_id": {
          "name": "media_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_plex_id": {
          "name": "user_plex_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "vote": {
          "name": "vote",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {
        "community_votes_media_user_idx": {
          "name": "community_votes_media_user_idx",
          "columns": [
            "media_item_id",
            "user_plex_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "community_votes_media_item_id_media_items_id_fk": {
          "name": "community_votes_media_item_id_media_items_id_fk",
          "tableFrom": "community_votes",
          "tableTo": "media_items",
          "columnsFrom": [
            "media_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "community_votes_user_plex_id_users_plex_id_fk": {
          "name": "community_votes_user_plex_id_users_plex_id_fk",
          "tableFrom": "community_votes",
          "tableTo": "users",
          "columnsFrom": [
            "user_plex_id"
          ],
          "columnsTo": [
            "plex_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "media_items": {
      "name": "media_items",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "overseerr_id": {
          "name": "overseerr_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "overseerr_request_id": {
          "name": "overseerr_request_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tmdb_id": {
          "name": "tmdb_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tvdb_id": {
          "name": "tvdb_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "imdb_id": {
          "name": "imdb_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "media_type": {
          "name": "media_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "poster_path": {
          "name": "poster_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'unknown'"
        },
        "requested_by_plex_id": {
          "name": "requested_by_plex_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rating_key": {
          "name": "rating_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "season_count": {
          "name": "season_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "available_season_count": {
          "name": "available_season_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {
        "media_items_overseerr_id_unique": {
          "name": "media_items_overseerr_id_unique",
          "columns": [
            "overseerr_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "media_items_requested_by_plex_id_users_plex_id_fk": {
          "name": "media_items_requested_by_plex_id_users_plex_id_fk",
          "tableFrom": "media_items",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by_plex_id"
          ],
          "columnsTo": [
            "plex_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "review_actions": {
      "name": "review_actions",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "review_round_id": {
          "name": "review_round_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "media_item_id": {
          "name": "media_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "acted_at": {
          "name": "acted_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        },
        "acted_by_plex_id": {
          "name": "acted_by_plex_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "review_actions_round_item_idx": {
          "name": "review_actions_round_item_idx",
          "columns": [
            "review_round_id",
            "media_item_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "review_actions_review_round_id_review_rounds_id_fk": {
          "name": "review_actions_review_round_id_review_rounds_id_fk",
          "tableFrom": "review_actions",
          "tableTo": "review_rounds",
          "columnsFrom": [
            "review_round_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_actions_media_item_id_media_items_id_fk": {
          "name": "review_actions_media_item_id_media_items_id_fk",
          "tableFrom": "review_actions",
          "tableTo": "media_items",
          "columnsFrom": [
            "media_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_actions_acted_by_plex_id_users_plex_id_fk": {
          "name": "review_actions_acted_by_plex_id_users_plex_id_fk",
          "tableFrom": "review_actions",
          "tableTo": "users",
          "columnsFrom": [
            "acted_by_plex_id"
          ],
          "columnsTo": [
            "plex_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "review_rounds": {
      "name": "review_rounds",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "started_at": {
          "name": "started_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        },
        "closed_at": {
          "name": "closed_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "end_date": {
          "name": "end_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_by_plex_id": {
          "name": "created_by_plex_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "review_rounds_created_by_plex_id_users_plex_id_fk": {
          "name": "review_rounds_created_by_plex_id_users_plex_id_fk",
          "tableFrom": "review_rounds",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_plex_id"
          ],
          "columnsTo": [
            "plex_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "sync_log": {
      "name": "sync_log",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "sync_type": {
          "name": "sync_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "items_synced": {
          "name": "items_synced",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "errors": {
          "name": "errors",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "started_at": {
          "name": "started_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "user_votes": {
      "name": "user_votes",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "media_item_id": {
          "name": "media_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_plex_id": {
          "name": "user_plex_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "vote": {
          "name": "vote",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "keep_seasons": {
          "name": "keep_seasons",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {
        "user_votes_media_user_idx": {
          "name": "user_votes_media_user_idx",
          "columns": [
            "media_item_id",
            "user_plex_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "user_votes_media_item_id_media_items_id_fk": {
          "name": "user_votes_media_item_id_media_items_id_fk",
          "tableFrom": "user_votes",
          "tableTo": "media_items",
          "columnsFrom": [
            "media_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_votes_user_plex_id_users_plex_id_fk": {
          "name": "user_votes_user_plex_id_users_plex_id_fk",
          "tableFrom": "user_votes",
          "tableTo": "users",
          "columnsFrom": [
            "user_plex_id"
          ],
          "columnsTo": [
            "plex_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "plex_id": {
          "name": "plex_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "plex_token": {
          "name": "plex_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_admin": {
          "name": "is_admin",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {
        "users_plex_id_unique": {
          "name": "users_plex_id_unique",
          "columns": [
            "plex_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "watch_status": {
      "name": "watch_status",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "media_item_id": {
          "name": "media_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_plex_id": {
          "name": "user_plex_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "watched": {
          "name": "watched",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "play_count": {
          "name": "play_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "last_watched_at": {
          "name": "last_watched_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "synced_at": {
          "name": "synced_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "watch_status_media_item_id_media_items_id_fk": {
          "name": "watch_status_media_item_id_media_items_id_fk",
          "tableFrom": "watch_status",
          "tableTo": "media_items",
          "columnsFrom": [
            "media_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "watch_status_user_plex_id_users_plex_id_fk": {
          "name": "watch_status_user_plex_id_users_plex_id_fk",
          "tableFrom": "watch_status",
          "tableTo": "users",
          "columnsFrom": [
            "user_plex_id"
          ],
          "columnsTo": [
            "plex_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}